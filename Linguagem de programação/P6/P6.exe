ction(){I.U=!1}));
a.N("enable_smart_skip_speedmaster_on_web")&&this.events.G(a,"speedmasterchanged",function(e){I.D=e});
this.events.G(a,g.ZW("timelyAction"),function(e){I.onCueRangeEnter(e.getId())});
this.events.G(a,g.tS("timelyAction"),function(e){I.onCueRangeExit(e.getId())});
a.N("web_enable_keyboard_shortcut_for_timely_actions")&&this.events.G(a,"keyboardserviceglobalkeydown",function(e,T){if((xX?e.altKey:e.ctrlKey)&&e.keyCode===39&&I.Y&&I.V){var C;e=g.d((C=oQ(I,I.V))==null?void 0:C.rendererContext,YlS);if(C=Qx(e==null?void 0:e.onTap))I.api.I$("innertubeCommand",C),T&&(T.iO=!0),T=yu(),(C=kGY(T))&&(e=g.pF(0))&&rD(T.client,e,C,void 0)}},this);
this.B=new g.F({W:"div",ww:["ytp-player-content","ytp-timely-actions-content"]});this.B.hide();JU(a,"insertTimelyActionUi",function(e){I.B.element.children.length>0&&g.sJ(I.B.element);e.classList.add("ytp-timely-actions-overlay");I.B.element.appendChild(e)});
g.E(this,this.B);g.w4(this.api,this.B.element,4)};
Sld=function(a){a.timelyActions&&(a.J=a.timelyActions.reduce(function(I,U){if(U.cueRangeId===void 0)return I;I[U.cueRangeId]=0;return I},{}))};
oQ=function(a,I){if(a.timelyActions){a=g.k(a.timelyActions);for(var U=a.next();!U.done;U=a.next())if(U=U.value,U.cueRangeId===I)return U}};
G_C=function(a,I){if((a=oQ(a,I))&&a.onCueRangeExit)return Qx(a.onCueRangeExit)};
yNb=function(a){if(a.V!==void 0){var I=(I=oQ(a,a.V))&&I.onCueRangeEnter?Qx(I.onCueRangeEnter):void 0;var U=oQ(a,a.V);a:if(U&&U.additionalTrigger){var e=g.k(U.additionalTrigger);for(var T=e.next();!T.done;T=e.next())if(T=T.value,T.type){var C=void 0,r=void 0;if((C=a.j[T.type])==null?0:C((r=T.args)!=null?r:{})){e=!0;break a}}e=!1}else e=!0;I&&e&&(a.api.I$("innertubeCommand",I),a.setTimeout(U),a.J[a.V]!==void 0&&a.J[a.V]++,a.Y=!0)}};
pLq=function(a,I){return a.L===void 0?!1:I.seekDirection==="TIMELY_ACTION_TRIGGER_DIRECTION_FORWARD"&&Number(I.seekLengthMilliseconds)===5E3?a.L===72:I.seekDirection==="TIMELY_ACTION_TRIGGER_DIRECTION_FORWARD"&&Number(I.seekLengthMilliseconds)===1E4?a.L===74:I.seekDirection==="TIMELY_ACTION_TRIGGER_DIRECTION_BACKWARD"&&Number(I.seekLengthMilliseconds)===5E3?a.L===71:I.seekDirection==="TIMELY_ACTION_TRIGGER_DIRECTION_BACKWARD"&&Number(I.seekLengthMilliseconds)===1E4?a.L===73:!1};
f$C=function(a){if(a=a.getWatchNextResponse()){var I,U;a=(I=a.playerOverlays)==null?void 0:(U=I.playerOverlayRenderer)==null?void 0:U.timelyActionsOverlayViewModel;I=g.d(a,E_b);if(I!=null&&I.timelyActions)return I==null?void 0:I.timelyActions.map(function(e){return g.d(e,d4Y)}).filter(function(e){return!!e})}};
R_d=function(a){CI.call(this,a);var I=this;k8(this.api,"getPlaybackRate",function(){return I.api.getPlaybackRate()});
k8(this.api,"setPlaybackRate",function(U){typeof U==="number"&&I.api.setPlaybackRate(U)})};
DJ=function(a,I,U,e){nI.call(this,"VOICE_BOOST",g.VS.zr);this.V=!1;this.K=a;this.tN=a.uZ();this.J=I;this.B=U;this.hasVoiceBoostAudioTrack=e;this.G(a,"videodatachange",this.L);this.setIcon(LfF());this.subscribe("select",this.Y,this);this.L()};
v0=function(a){CI.call(this,a);var I=this;this.events=new g.Ru(a);g.E(this,this.events);this.events.G(a,"settingsMenuInitialized",function(){wLb(I)});
JU(this.api,"getVoiceBoostUserPreference",function(){return I.getVoiceBoostUserPreference()});
JU(this.api,"setVoiceBoostUserPreference",function(e){I.setVoiceBoostUserPreference(e)});
JU(this.api,"hasVoiceBoostAudioTrack",function(){return I.hasVoiceBoostAudioTrack()});
var U;this.V=(U=wjd())!=null?U:0;this.updateEnvironmentData()};
wLb=function(a){a.menuItem||(a.menuItem=new DJ(a.api,function(I){a.setVoiceBoostUserPreference(I)},function(){return a.getVoiceBoostUserPreference()},function(){return a.hasVoiceBoostAudioTrack()}),g.E(a,a.menuItem))};
FRL=function(a){a=a.MJ();if(!a)return!1;a=g.HI(a).exp||"";return a.includes("xpv")||a.includes("xpe")};
m4w=function(a){a=g.k(g.aP(a,!0));for(var I=a.next();!I.done;I=a.next())if(FRL(I.value))return!0;return!1};
Qsg=function(a,I){a=g.k(g.aP(a,!0));for(var U=a.next();!U.done;U=a.next())if(U=U.value,FRL(U)){var e={potc:"1",pot:I};U.url&&(U.url=q6(U.url,e))}};
z_c=function(a){return g.f(function(I){if(I.L==1)return g.jb(I,2),g.l(I,a,4);if(I.L!=2)return g.cw(I,0);g.lF(I);g.Aj(I)})};
s7=function(a){CI.call(this,a);var I=this;this.useLivingRoomPoToken=!1;this.U=new g.uu;this.V=!1;this.zI=null;this.D=!1;this.J=null;this.Y=!1;var U=a.X().getWebPlayerContextConfig();this.events=new g.Ru(a);g.E(this,this.events);this.events.G(a,"spsumpreject",function(e,T,C){I.Y=T;e&&I.D&&!I.J&&(I.N("html5_generate_content_po_token")&&C?I.xE(C):I.N("html5_generate_session_po_token")&&h_F(I));I.J||I.api.R$("stp",{s:+I.D,b:+I.Y})});
this.events.G(a,"poTokenVideoBindingChange",function(e){I.xE(e)});
this.useLivingRoomPoToken=!(U==null||!U.useLivingRoomPoToken);a.addEventListener("csiinitialized",function(){I.zI=a.zQ();var e=(I.N("html5_generate_session_po_token")||I.N("html5_generate_content_po_token"))&&!I.useLivingRoomPoToken;try{if(I.N("html5_use_shared_owl_instance"))NFb(I);else if(e){I.zI.Qm("pot_isc");var T=g.ki(I.api.X().experiments,"html5_webpo_kaios_defer_timeout_ms");T?(I.B=w2(),g.Vz(function(){IP(I)},T)):I.N("html5_webpo_idle_priority_job")?(I.B=w2(),g.TM(g.rz(),function(){IP(I)})):
IP(I)}}catch(C){C instanceof Error&&g.RS(C)}});
a.addEventListener("trackListLoaded",this.F9.bind(this));a.EH(this)};
o_Y=function(a){var I=H3(a.experiments,"html5_web_po_request_key");return I?I:g.Pj(a)?"Z1elNkAKLpSR3oPOUMSN":"O43z0dpjhgX20SCx4KAo"};
D4j=function(a){var I=new ajd,U={},e=(U["X-Goog-Api-Key"]="AIzaSyDyT5W0Jh49F30Pqqtyfdf7pDLFKLJoAnw",U);return new $Q(I,a,function(){return e})};
v_i=function(a){return new iu(a)};
U7=function(a,I){a.N("html5_webpo_bge_ctmp")&&a.api.R$(I,{hwpo:!!a.L,hwpor:a.V})};
NFb=function(a){var I,U;g.f(function(e){if(e.L==1)return U7(a,"swpo_i"),a.B=w2(),eO(a),g.l(e,xF(),2);if(e.L!=3)return I=e.V,U7(a,"swpo_co"),g.l(e,Xag(I),3);U=e.V;a.N("html5_web_po_token_disable_caching")||U.gO(150);a.L=U;U7(a,"swpo_cc");z_c(U.X0()).then(function(){a.V=!0;a.U.resolve();U7(a,"swpo_re")});
g.Vz(function(){IP(a);U7(a,"swpo_si")},0);
g.Aj(e)})};
IHj=function(a){var I=a.api.X(),U=D4j(o_Y(I)),e=U.qz.bin